{% extends 'base.html' %}
{% load static %}
 
{% block content %}
<title>{%block title%} Homepage {%endblock%}</title>

<style>
  
.text-md-dark {
  color: #343a40 !important; /* Bootstrap's .text-dark color */
}

@media (max-width: 767.98px) {
  .text-sm-white {
      color: white !important;
  }}
</style>
  <section id="introCarousel" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#introCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#introCarousel" data-slide-to="1"></li>
        <li data-target="#introCarousel" data-slide-to="2"></li>
    </ol>
  
    <!-- Slides -->
    <div class="carousel-inner">
      <div class="carousel-item active">
          <img src="{% static 'images/TradeNexus.jpg'%}" class="d-block w-100" alt="Intro Slide 1" style="object-fit: cover;">
          <div class="carousel-caption text-dark">
              <h5>Welcome to TradeNexus</h5>
              <p>Share, Redirect, Earn! Making passive income has never been this easy.</p>
          </div>
      </div>
      <div class="carousel-item">
          <img src="{% static 'images/deals.jpg'%}" class="d-block w-100" alt="Intro Slide 2" style="object-fit: cover;">
          <div class="carousel-caption text-light ">
              <h5>Discover Amazing Deals</h5>
              <p>Best products at unbeatable prices.</p>
          </div>
      </div>
      <div class="carousel-item">
          <img src="{% static 'images/Community.jpg'%}" class="d-block w-100" alt="Intro Slide 3" style="object-fit: cover;">
          <div class="carousel-caption">
              <h5 class=" text-md-dark text-sm-white">Join Our Community</h5>
              <p class="text-light">Trade, communicate, and flourish.</p>
          </div>
      </div>
  </div>
  
    <!-- Controls -->
    <a class="carousel-control-prev" href="#introCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#introCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
  </section>
  
  <section>
    <div class="container mt-5">
      <div class="row g-3">
        <!-- Sample product card -->
        <style>
          .product-card {
            display: flex;
            flex-direction: column;
            height: 100%;
          }
          .product-card .card-body {
            flex: 1;
          }
          .card-title {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
          }
        </style>
        <div class="container">
          <div class="row g-">
            {% for product in products %}
            <div class="col-lg-3 col-md-4 col-sm-6 col-6 mb-2">
              <div class="card product-card">
                {%if product.image%}
                <img src="{{ product.image.url }}" class="card-img-top product-image" alt="{{ product.name }}" style="width: 100%; height: 200px; object-fit: contain;">
                {%else%}
                <img src="{% static 'images/default_product_image.jpg' %}" class="card-img-top product-image" alt="{{ product.name }}" style="width: 100%; height: 200px; object-fit: contain;">
                {%endif%}
                <div class="card-body text-center">
                  <h5 class="card-title">{{ product.name }}</h5>
                  <p><strong>Price:</strong> {{ product.product_price }}</p>
                  <p><strong>Category:</strong> {{ product.get_category_display }}</p>
                  <a href="{% url 'product_detail' pk=product.pk %}" class="btn btn-primary m-2">More</a>
                  <a href="{{ product.product_link }}" class="btn btn-primary">Buy</a>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </section>
  
{%endblock%}